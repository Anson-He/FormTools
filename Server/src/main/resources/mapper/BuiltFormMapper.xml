<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.formtools.mapper.BuiltFormMapper">

	<resultMap type="BuiltForm" id="BuiltFormResult">
		<id property="formId" column="form_id"/>
		<result property="builderId" column="builder_id"/>
		<result property="formTitle" column="form_title"/>
		<result property="formInfo" column="form_info"/>
		<result property="builtTime" column="built_time"/>
		<result property="beginTime" column="begin_time"/>
		<result property="endTime" column="end_time"/>
		<result property="maxCount" column="max_count"/>
		<result property="formState" column="form_state"/>
	</resultMap>

	<select id="getBuiltForm" parameterType="String" resultMap="BuiltFormResult">
		select * from all_built_form where form_id= #{formId}
	</select>

	<select id="findAllBuiltForm" resultMap="BuiltFormResult">
		select * from all_built_form
	</select>

	<update id="updateBuiltForm" parameterType="BuiltForm">
		update all_built_form
		<set>
			<if test="formInfo!=null">
				form_info=#{formInfo},
			</if>
			<if test="formTitle!=null">
				form_title=#{formTitle},
			</if>
			<if test="endTime!=null">
				end_time=#{endTime},
			</if>
			<if test="maxCount!=null">
				max_count=#{maxCount},
			</if>
			<if test="formState!=null">
				form_state=#{formState},
			</if>
		</set>
		where form_id=#{formId}
	</update>

</mapper> 